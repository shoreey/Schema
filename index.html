<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPRD Schema</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Optional: Custom styles for the PDF viewer to ensure it fits well */
        #pdfViewer {
            width: 100%;
            height: 80vh; /* Adjust as needed */
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-6">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-semibold text-blue-600">CPRD GOLD and AURUM Schema</h1>
            <p class="text-gray-500 mt-2">
                Detailed schema for CPRD GOLD and CPRD AURUM databases.
            </p>
        </header>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Schema Overview</h2>
            <p class="text-gray-700 mb-4">
                This website provides the schema for the CPRD GOLD and CPRD AURUM databases. The schemas are available in PDF format for detailed exploration. Understanding the structure of these databases is crucial for effective data analysis.
            </p>
            <p class="text-gray-700 mb-4">
                You can view the schemas directly within your browser using the PDF viewers below, or download them for offline access.
            </p>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">CPRD GOLD Schema</h2>
            <div id="pdfViewerGold" class="mb-4">
                <p class="text-center text-gray-500">Loading CPRD GOLD Schema PDF...</p>
                <iframe id="pdfIframeGold" style="display:none; width: 100%; height: 100%;"></iframe>
            </div>
            <div class="flex justify-center">
                <a id="downloadPdfGold" href="#" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Download CPRD GOLD Schema
                </a>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">CPRD AURUM Schema</h2>
            <div id="pdfViewerAurum" class="mb-4">
                <p class="text-center text-gray-500">Loading CPRD AURUM Schema PDF...</p>
                <iframe id="pdfIframeAurum" style="display:none; width: 100%; height: 100%;"></iframe>
            </div>
            <div class="flex justify-center mt-4">
                <a id="downloadPdfAurum" href="#" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Download CPRD AURUM Schema
                </a>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">About CPRD GOLD and AURUM</h2>
             <p class="text-gray-700 mb-4">
                The Clinical Practice Research Datalink (CPRD) is a primary care database containing anonymised patient data.  CPRD GOLD and CPRD AURUM are the two main database products.
            </p>
            <ul class="list-disc list-inside text-gray-700 mb-4">
                <li><span class="font-semibold">CPRD GOLD</span>: A large primary care database widely used for research.</li>
                <li><span class="font-semibold">CPRD AURUM</span>: A newer primary care database with a different underlying system, offering expanded research capabilities.</li>
            </ul>
            <p class="text-gray-700 mb-4">
               Both databases contain longitudinal data, including medical records, prescriptions, diagnoses, and referrals.  This data is invaluable for a wide range of research, including epidemiology, drug safety, and health outcomes research.
            </p>
            <p class="text-gray-700">
                For more information, please visit the official CPRD website.
            </p>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">References</h2>
            <ul class="list-decimal list-inside text-gray-700">
                 <li>Clinical Practice Research Datalink. <a href="https://www.cprd.com/" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:underline">CPRD Website</a></li>
                </ul>
        </section>
    </div>

    <script>
        const pdfGoldUrl = 'https://github.com/shoreey/Schema/blob/main/CPRD%20GOLD.pdf'; // Replace with the actual URL of your CPRD GOLD PDF file
        const pdfAurumUrl = 'https://github.com/shoreey/Schema/blob/main/CPRD%20AURUM.pdf'; // Replace with the actual URL of your CPRD AURUM PDF file

        const pdfViewerGoldDiv = document.getElementById('pdfViewerGold');
        const pdfViewerAurumDiv = document.getElementById('pdfViewerAurum');

        const downloadPdfGoldLink = document.getElementById('downloadPdfGold');
        const downloadPdfAurumLink = document.getElementById('downloadPdfAurum');

        const pdfIframeGold = document.getElementById('pdfIframeGold');
        const pdfIframeAurum = document.getElementById('pdfIframeAurum');


        // Function to display the CPRD GOLD PDF
        function displayPdfGold() {
            if (pdfIframeGold.src === '' || pdfIframeGold.src !== pdfGoldUrl) {
                pdfViewerGoldDiv.innerHTML = '<p class="text-center text-gray-500">Loading CPRD GOLD Schema PDF...</p>'; // Keep loader
                pdfIframeGold.style.display = 'none';
                pdfIframeGold.src = pdfGoldUrl;

                pdfIframeGold.onload = () => {
                    pdfViewerGoldDiv.innerHTML = ''; // Clear loader
                    pdfIframeGold.style.display = 'block';
                };
            }
        }

        // Function to display the CPRD AURUM PDF
        function displayPdfAurum() {
            if (pdfIframeAurum.src === '' || pdfIframeAurum.src !== pdfAurumUrl) {
                pdfViewerAurumDiv.innerHTML = '<p class="text-center text-gray-500">Loading CPRD AURUM Schema PDF...</p>'; // Keep loader
                pdfIframeAurum.style.display = 'none';
                pdfIframeAurum.src = pdfAurumUrl;

                pdfIframeAurum.onload = () => {
                    pdfViewerAurumDiv.innerHTML = ''; // Clear loader
                    pdfIframeAurum.style.display = 'block';
                };
            }
        }

        // Function to set the download link for CPRD GOLD
        function setDownloadLinkGold() {
            downloadPdfGoldLink.href = pdfGoldUrl;
            downloadPdfGoldLink.download = 'CPRD_GOLD_Schema.pdf'; // suggested filename
        }

        // Function to set the download link for CPRD AURUM
        function setDownloadLinkAurum() {
            downloadPdfAurumLink.href = pdfAurumUrl;
            downloadPdfAurumLink.download = 'CPRD_AURUM_Schema.pdf'; // suggested filename
        }

        // Call the functions
        displayPdfGold();
        displayPdfAurum();
        setDownloadLinkGold();
        setDownloadLinkAurum();

    </script>
</body>
</html>
